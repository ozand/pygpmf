# pygpmf_oz - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

–≠—Ç–∞ –≤–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞ `pygpmf` –±—ã–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ Python (3.9+) –∏ Windows.

**–ù–∞–∑–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ `pygpmf_oz`** –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ PyPI –∏ –æ—Ç–ª–∏—á–∏—è –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

## –í–µ—Ä—Å–∏—è 0.2.1 (12 —è–Ω–≤–∞—Ä—è 2026)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- üêõ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∏–∫—Å**: –ó–∞—â–∏—â–µ–Ω–Ω–æ–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ FourCC –≤ `parse.iter_klv`
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ UnicodeDecodeError –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∏–Ω–∞—Ä–Ω—ã–º–∏ GPMF –¥–∞–Ω–Ω—ã–º–∏
  - –î–æ–±–∞–≤–ª–µ–Ω fallback –Ω–∞ latin-1 –¥–ª—è –Ω–µ-ASCII FourCC –∫–æ–¥–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–ø–æ–ª–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –≤ KLV stream

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏: 83.67%** (119 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –Ω–µ-ASCII FourCC
- ‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:
  - `parse.py`: 90.91% coverage
  - `__main__.py`: 91.95% coverage
  - `io.py`: 87.50% coverage

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- üìñ ReadTheDocs –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞
- üìñ –î–æ–±–∞–≤–ª–µ–Ω—ã badges: PyPI, Python versions, Documentation, Coverage

## –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `python-ffmpeg` –Ω–∞ `ffmpeg-python>=0.2.0`
- ‚úÖ –£–¥–∞–ª–µ–Ω —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–∞–∫–µ—Ç `descartes` (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ geopandas)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∫–∞—Ä—Ç —Å GeoportailFrance –Ω–∞ OpenStreetMap.Mapnik

### 2. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Python 3.9+
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —è–≤–Ω–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8 –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `setup.py` —Å —É–∫–∞–∑–∞–Ω–∏–µ–º `python_requires=">=3.9"`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã classifiers –¥–ª—è Python 3.9-3.12

### 3. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Windows
- ‚úÖ –Ø–≤–Ω–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8 –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—É—Ç–µ–π —Å Windows
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞ Windows

### 4. –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `pyproject.toml` —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏ PEP 517/518
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (black, mypy, pytest)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.9 –∏–ª–∏ –≤—ã—à–µ
- FFmpeg –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg –Ω–∞ Windows
```powershell
# –ß–µ—Ä–µ–∑ Chocolatey
choco install ffmpeg

# –ß–µ—Ä–µ–∑ Scoop
scoop install ffmpeg

# –ò–ª–∏ —Å–∫–∞—á–∞—Ç—å —Å https://ffmpeg.org/download.html
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞
pip install -e .

# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑ requirements.txt
pip install -r requirements.txt
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ GPS –¥–∞–Ω–Ω—ã—Ö –≤ GPX —Ñ–æ—Ä–º–∞—Ç

```python
import gpmf

# –ß—Ç–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –∏–∑ —Ñ–∞–π–ª–∞
stream = gpmf.io.extract_gpmf_stream("my_gopro_video.mp4")

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ GPS –±–ª–æ–∫–æ–≤ –Ω–∏–∑–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è
gps_blocks = gpmf.gps.extract_gps_blocks(stream)

# –ü–∞—Ä—Å–∏–Ω–≥ –≤ —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
gps_data = list(map(gpmf.gps.parse_gps_block, gps_blocks))

# –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ GPX
import gpxpy

gpx = gpxpy.gpx.GPX()
gpx_track = gpxpy.gpx.GPXTrack()
gpx.tracks.append(gpx_track)
gpx_track.segments.append(gpmf.gps.make_pgx_segment(gps_data))

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª
with open("output.gpx", "w", encoding="utf-8") as f:
    f.write(gpx.to_xml())
```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è GPS —Ç—Ä–µ–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–µ

```python
import gpmf

# –ß—Ç–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –∏–∑ —Ñ–∞–π–ª–∞
stream = gpmf.io.extract_gpmf_stream("my_gopro_video.mp4")

# –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã —Å —Ç—Ä–µ–∫–æ–º
gpmf.gps_plot.plot_gps_trace_from_stream(stream, output_path="track.png")
```

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

```bash
# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ GPX
python -m gpmf gps-extract video.mp4 -o output.gpx

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–π GPS –ø–æ–∑–∏—Ü–∏–∏
python -m gpmf gps-first video.mp4

# –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —Ç—Ä–µ–∫–æ–º
python -m gpmf gps-plot video.mp4 -o track.png
```

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API

### contextily –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∫–∞—Ä—Ç
–°—Ç–∞—Ä—ã–π –∫–æ–¥:
```python
ctx.providers.GeoportailFrance["maps"]  # –ë–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

–ù–æ–≤—ã–π –∫–æ–¥:
```python
ctx.providers.OpenStreetMap.Mapnik  # –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

### –ö–æ–¥–∏—Ä–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤
–í—Å–µ —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å —è–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç UTF-8:
```python
with open(path, "w", encoding="utf-8") as f:
    f.write(content)
```

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### FFmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω
–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ "ffmpeg not found":
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ FFmpeg (—Å–º. —Ä–∞–∑–¥–µ–ª "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg")
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ FFmpeg –≤ PATH: `ffmpeg -version`

### –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ geopandas
–ù–∞ Windows –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ conda:
```bash
conda install geopandas
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pip install -e ".[dev]"

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
black gpmf/

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE

## –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ—Ä: Alexis Mignon
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–æ—Ä–º–∞—Ç–µ GPMF: [GoPro GitHub](https://github.com/gopro/gpmf-parser)

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ 0.2.0

- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Python 3.9+
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Windows
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω pyproject.toml
- –£–ª—É—á—à–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ 0.2.1

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ FourCC –≤ `parse.iter_klv` (–±–µ–∑ –æ—à–∏–±–æ–∫ UTF-8 –Ω–∞ –±–∏–Ω–∞—Ä–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö)
- –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–≥—Ä–µ—Åc–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç `test_iter_klv_non_ascii_fourcc`
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –ø–æ–≤—ã—à–µ–Ω–æ –¥–æ ~83.6%
